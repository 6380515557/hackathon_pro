<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom CSS for animations */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInRight {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes fadeInLeft {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .animate-fade-in-right {
            animation: fadeInRight 0.6s ease-out forwards;
        }

        .animate-fade-in-left {
            animation: fadeInLeft 0.6s ease-out forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- React and ReactDOM CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        // Main App Component
        const App = () => {
          // Log to console to check if App component is rendering
          console.log("App component is rendering!");

          // State to manage login status
          const [isLoggedIn, setIsLoggedIn] = React.useState(false);
          // State to manage the current page view
          const [currentPage, setCurrentPage] = React.useState('dashboard'); // 'dashboard', 'appointWorker', 'maintainMachine'
          // State for login form inputs
          const [username, setUsername] = React.useState('');
          const [password, setPassword] = React.useState('');
          // State for login error message
          const [loginError, setLoginError] = React.useState('');

          // Hardcoded admin credentials for demonstration
          const ADMIN_USERNAME = 'admin';
          const ADMIN_PASSWORD = 'password123';

          // Handle login submission
          const handleLogin = (e) => {
            e.preventDefault();
            if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
              setIsLoggedIn(true);
              setCurrentPage('dashboard');
              setLoginError(''); // Clear any previous errors
            } else {
              setLoginError('Invalid username or password.');
            }
          };

          // Handle logout
          const handleLogout = () => {
            setIsLoggedIn(false);
            setCurrentPage('dashboard'); // Reset to dashboard or login
            setUsername('');
            setPassword('');
            setLoginError('');
          };

          // Render the appropriate page based on login status and currentPage state
          const renderPage = () => {
            if (!isLoggedIn) {
              // Login Page
              return (
                <div className="flex items-center justify-center min-h-screen bg-gray-100 p-4">
                  <div className="bg-white p-8 rounded-xl shadow-lg w-full max-w-md animate-fade-in">
                    <h2 className="text-3xl font-bold text-center text-gray-800 mb-6">Admin Login</h2>
                    <form onSubmit={handleLogin}>
                      <div className="mb-4">
                        <label className="block text-gray-700 text-sm font-semibold mb-2" htmlFor="username">
                          Username:
                        </label>
                        <input
                          type="text"
                          id="username"
                          className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                          value={username}
                          onChange={(e) => setUsername(e.target.value)}
                          required
                        />
                      </div>
                      <div className="mb-6">
                        <label className="block text-gray-700 text-sm font-semibold mb-2" htmlFor="password">
                          Password:
                        </label>
                        <input
                          type="password"
                          id="password"
                          className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                          value={password}
                          onChange={(e) => setPassword(e.target.value)}
                          required
                        />
                      </div>
                      {loginError && (
                        <p className="text-red-500 text-sm text-center mb-4">{loginError}</p>
                      )}
                      <button
                        type="submit"
                        className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-300 ease-in-out transform hover:scale-105 shadow-md"
                      >
                        Login
                      </button>
                    </form>
                  </div>
                </div>
              );
            } else {
              // Dashboard or specific pages after login
              switch (currentPage) {
                case 'dashboard':
                  return (
                    <Dashboard setCurrentPage={setCurrentPage} handleLogout={handleLogout} />
                  );
                case 'appointWorker':
                  return (
                    <AppointWorkerPage setCurrentPage={setCurrentPage} />
                  );
                case 'maintainMachine':
                  return (
                    <MaintainMachinePage setCurrentPage={setCurrentPage} />
                  );
                default:
                  return (
                    <Dashboard setCurrentPage={setCurrentPage} handleLogout={handleLogout} />
                  );
              }
            }
          };

          return (
            <div className="font-sans antialiased">
              {renderPage()}
            </div>
          );
        };

        // Dashboard Component
        const Dashboard = ({ setCurrentPage, handleLogout }) => {
          return (
            <div className="flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 p-4">
              <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-2xl text-center animate-fade-in-up">
                <h2 className="text-4xl font-extrabold text-gray-900 mb-8">Admin Dashboard</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                  <button
                    onClick={() => setCurrentPage('appointWorker')}
                    className="flex flex-col items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold py-6 px-8 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span className="text-xl">Appoint Worker</span>
                  </button>
                  <button
                    onClick={() => setCurrentPage('maintainMachine')}
                    className="flex flex-col items-center justify-center bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-6 px-8 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-yellow-300"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                      <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span className="text-xl">Maintain Machine</span>
                  </button>
                </div>
                <button
                  onClick={handleLogout}
                  className="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:shadow-outline"
                >
                  Logout
                </button>
              </div>
            </div>
          );
        };

        // Appoint Worker Page Component
        const AppointWorkerPage = ({ setCurrentPage }) => {
          // State for worker details form
          const [workerName, setWorkerName] = React.useState('');
          const [dateOfJoin, setDateOfJoin] = React.useState('');
          const [age, setAge] = React.useState('');
          const [experience, setExperience] = React.useState('');
          const [role, setRole] = React.useState(''); // New state for role
          const [message, setMessage] = React.useState(''); // For success/error messages

          // Handle form submission
          const handleSubmit = (e) => {
            e.preventDefault();
            // Basic validation
            if (!workerName || !dateOfJoin || !age || !experience || !role) {
              setMessage('Please fill in all fields.');
              return;
            }
            if (isNaN(age) || parseInt(age) <= 0) {
              setMessage('Please enter a valid age.');
              return;
            }

            const workerDetails = {
              workerName,
              dateOfJoin,
              age: parseInt(age),
              experience,
              role, // Include role in the submitted data
            };
            console.log('Worker Details Submitted:', workerDetails);
            setMessage('Worker details submitted successfully!');
            // In a real application, you would send this data to a backend API
            // After successful submission, you might clear the form or redirect
            setWorkerName('');
            setDateOfJoin('');
            setAge('');
            setExperience('');
            setRole(''); // Clear role after submission
          };

          return (
            <div className="flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-green-400 to-blue-500 p-4">
              <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-xl text-center animate-fade-in-right">
                <h2 className="text-4xl font-extrabold text-gray-900 mb-6">Appoint Worker</h2>
                <p className="text-lg text-gray-700 mb-8">
                  Fill out the form below to add a new worker and assign their role.
                </p>

                <form onSubmit={handleSubmit} className="space-y-6 text-left">
                  <div>
                    <label htmlFor="workerName" className="block text-gray-700 text-sm font-semibold mb-2">
                      Worker Name:
                    </label>
                    <input
                      type="text"
                      id="workerName"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={workerName}
                      onChange={(e) => setWorkerName(e.target.value)}
                      required
                    />
                  </div>
                  <div>
                    <label htmlFor="dateOfJoin" className="block text-gray-700 text-sm font-semibold mb-2">
                      Date of Join:
                    </label>
                    <input
                      type="date"
                      id="dateOfJoin"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={dateOfJoin}
                      onChange={(e) => setDateOfJoin(e.target.value)}
                      required
                    />
                  </div>
                  <div>
                    <label htmlFor="age" className="block text-gray-700 text-sm font-semibold mb-2">
                      Age:
                    </label>
                    <input
                      type="number"
                      id="age"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={age}
                      onChange={(e) => setAge(e.target.value)}
                      min="18" // Assuming workers must be at least 18
                      required
                    />
                  </div>
                  <div>
                    <label htmlFor="experience" className="block text-gray-700 text-sm font-semibold mb-2">
                      Experience:
                    </label>
                    <textarea
                      id="experience"
                      rows="4"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={experience}
                      onChange={(e) => setExperience(e.target.value)}
                      placeholder="e.g., 5 years in mechanical engineering, skilled in welding..."
                      required
                    ></textarea>
                  </div>
                  {/* New Role Selection Field */}
                  <div>
                    <label htmlFor="role" className="block text-gray-700 text-sm font-semibold mb-2">
                      Assign Role:
                    </label>
                    <select
                      id="role"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={role}
                      onChange={(e) => setRole(e.target.value)}
                      required
                    >
                      <option value="">Select Role</option>
                      <option value="Worker">Worker</option>
                      <option value="Supervisor">Supervisor</option>
                    </select>
                  </div>

                  {message && (
                    <p className={`text-sm text-center ${message.includes('successfully') ? 'text-green-600' : 'text-red-500'} mb-4`}>
                      {message}
                    </p>
                  )}

                  <div className="flex flex-col sm:flex-row justify-center gap-4 mt-8">
                    <button
                      type="submit"
                      className="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:shadow-outline"
                    >
                      Submit Worker
                    </button>
                    <button
                      type="button" // Use type="button" to prevent form submission
                      onClick={() => setCurrentPage('dashboard')}
                      className="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:shadow-outline"
                    >
                      Back to Dashboard
                    </button>
                  </div>
                </form>
              </div>
            </div>
          );
        };

        // Maintain Machine Page Component
        const MaintainMachinePage = ({ setCurrentPage }) => {
          // State for machine details form
          const [machineNumber, setMachineNumber] = React.useState('');
          const [machineState, setMachineState] = React.useState('');
          const [message, setMessage] = React.useState(''); // For success/error messages

          // Handle form submission
          const handleSubmit = (e) => {
            e.preventDefault();
            // Basic validation
            if (!machineNumber || !machineState) {
              setMessage('Please fill in all fields.');
              return;
            }

            const machineDetails = {
              machineNumber,
              machineState,
            };
            console.log('Machine Details Submitted:', machineDetails);
            setMessage('Machine details submitted successfully!');
            // In a real application, you would send this data to a backend API
            // After successful submission, you might clear the form or redirect
            setMachineNumber('');
            setMachineState('');
          };

          return (
            <div className="flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-yellow-400 to-red-500 p-4">
              <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-xl text-center animate-fade-in-left">
                <h2 className="text-4xl font-extrabold text-gray-900 mb-6">Maintain Machine</h2>
                <p className="text-lg text-gray-700 mb-8">
                  Fill out the form below to add or update machine details.
                </p>

                <form onSubmit={handleSubmit} className="space-y-6 text-left">
                  <div>
                    <label htmlFor="machineNumber" className="block text-gray-700 text-sm font-semibold mb-2">
                      Machine Number:
                    </label>
                    <input
                      type="text"
                      id="machineNumber"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={machineNumber}
                      onChange={(e) => setMachineNumber(e.target.value)}
                      required
                    />
                  </div>
                  <div>
                    <label htmlFor="machineState" className="block text-gray-700 text-sm font-semibold mb-2">
                      Machine State:
                    </label>
                    <select
                      id="machineState"
                      className="shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
                      value={machineState}
                      onChange={(e) => setMachineState(e.target.value)}
                      required
                    >
                      <option value="">Select State</option>
                      <option value="Operational">Operational</option>
                      <option value="Under Maintenance">Under Maintenance</option>
                      <option value="Broken">Broken</option>
                      <option value="Idle">Idle</option>
                    </select>
                  </div>

                  {message && (
                    <p className={`text-sm text-center ${message.includes('successfully') ? 'text-green-600' : 'text-red-500'} mb-4`}>
                      {message}
                    </p>
                  )}

                  <div className="flex flex-col sm:flex-row justify-center gap-4 mt-8">
                    <button
                      type="submit"
                      className="w-full sm:w-auto bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:shadow-outline"
                    >
                      Submit Machine Details
                    </button>
                    <button
                      type="button" // Use type="button" to prevent form submission
                      onClick={() => setCurrentPage('dashboard')}
                      className="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:shadow-outline"
                    >
                      Back to Dashboard
                    </button>
                  </div>
                </form>
              </div>
            </div>
          );
        };

        // Render the App component
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
